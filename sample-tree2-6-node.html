<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <title>Sample Family Tree - Object Tree</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
      body {
        font-family: Arial, sans-serif;
        background: #f5f5f5;
        padding: 20px;
      }

      h1 {
        text-align: center;
      }

      .tree {
        display: flex;
        justify-content: center;
        margin-top: 30px;
      }

      ul {
        list-style-type: none;
        padding-left: 20px;
        position: relative;
      }

      ul::before {
        content: "";
        position: absolute;
        top: 0;
        left: 10px;
        border-left: 1px solid #555;
        height: 100%;
      }

      li {
        margin: 10px 0;
        padding-left: 20px;
        position: relative;
      }

      li::before {
        content: "";
        position: absolute;
        top: 12px;
        left: 0;
        width: 20px;
        border-top: 1px solid #555;
      }

      .node {
        display: inline-block;
        padding: 6px 12px;
        border: 1px solid #333;
        border-radius: 6px;
        background: #fff;
      }
    </style>
  </head>
  <body>
    <h1>Visualisasi Family Tree (Berbasis Object Tree)</h1>

    <div class="tree" id="treeContainer"></div>

    <script>
      /*
    Struktur data pohon (tree)
    Setiap node memiliki:
    - name
    - children (array)
  */

      const familyTree = {
        name: "Abdul Muthalib",
        role: "Kakek dari Ayah",
        children: [
          {
            name: "Abdullah",
            role: "Ayah",
            children: [
              {
                name: "Nabi Muhammad",
                role: "Anak",
                children: [],
              },
            ],
          },
          {
            name: "Abu Thalib",
            role: "Paman",
            children: [],
          },
        ],
      };

      // Node ibu dibuat terpisah (karena struktur paternal sederhana)
      const mother = {
        name: "Aminah binti Wahb",
        role: "Ibu",
      };

      /*
    Fungsi rekursif untuk render tree
  */
      function renderTree(node) {
        const li = document.createElement("li");

        const box = document.createElement("span");
        box.className = "node";
        box.textContent = node.name + " (" + node.role + ")";
        li.appendChild(box);

        if (node.children && node.children.length > 0) {
          const ul = document.createElement("ul");
          node.children.forEach((child) => {
            ul.appendChild(renderTree(child));
          });
          li.appendChild(ul);
        }

        return li;
      }

      // Render tree utama (garis ayah)
      const ulRoot = document.createElement("ul");
      ulRoot.appendChild(renderTree(familyTree));
      document.getElementById("treeContainer").appendChild(ulRoot);

      // Render ibu sebagai node terpisah
      const motherBox = document.createElement("div");
      motherBox.className = "node";
      motherBox.style.marginTop = "30px";
      motherBox.textContent = mother.name + " (" + mother.role + ")";
      document.getElementById("treeContainer").appendChild(motherBox);
    </script>
  </body>
</html>
